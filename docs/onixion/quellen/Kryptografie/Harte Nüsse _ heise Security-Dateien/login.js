window.heiseLogin===undefined&&typeof jQuery!="undefined"&&function(e){"use strict";function n(t,n,r,i){var s,o="",u="?";return n.match(/\?/)&&(u="&"),r&&(o=u+e.param(r)),t.children().length>0?t.append(" | "):location.pathname.match(/^\/download/)||t.prepend('<span class="heise_foren">Heise-Foren:</span> '),s=e('<a href="'+n+o+'">'+i+"</a>"),t.append(s),s}function r(t){var n,r=e(window).scrollTop(),i=r+e(window).height(),s=e(t).offset().top,o=s+e(t).height();o>=r&&s<=i&&o<=i&&s>=r||(e(t).height()<e(window).height()?n=e(window).height()-e(t).height()-(e(window).height()-s):n=s,e("html, body").animate({scrollTop:n},500))}function i(s){var o,u,a,f,l,c,h,p,d=e("#navi_login p");if(!d)return;if(location.hostname.match(/abo\.heise\.de/)||location.hostname.match(/printshop\.heise\.de/)||location.hostname.match(/tarifrechner\.heise\.de/)||location.hostname.match(/webcasts\.heise\.de/)||location.hostname.match(/shop\.heise\.de/)||location.hostname.match(/www\.heise-shop\.de/)||location.hostname.match(/jobs\.heise\.de/))return;s||(s={}),o={},s.forward?o.forward=s.forward:o.forward=location.href,u={sso:"sso",register:"register",profil:"profil"},t.urls.ho_login&&(u.sso="ho_login"),t.urls.ho_register&&(u.register="ho_register"),a=d.children("#stream_notification"),d.empty(),t.extra_js&&!t.extra_js_added&&(e(t.extra_js).each(function(t,n){e("head").first().append('<script type="text/javascript" src="'+n+'"></script>')}),t.extra_js_added=1),t.logged_in?(n(d,t.urls.logout,e.extend({forward:s.logout_forward||location.href},o),"Ausloggen"),n(d,t.urls.profil,e.extend({forward:location.href},o),"Mein Account"),d.append(a),t.cookie_checked||(t.cookie_checked=1,e("header.beta").size()===0&&(l="/js/stream/stream.js",e("head").first().append('<script src="'+l+'"></script>')),c=function(n){n||(n=""),e('<img src="/userdb/cookieinvalidator'+n+'" />').load(function(){t.not_first_run=0,i();var e=6e5;window.setTimeout(function(){c("?id="+Math.floor(Math.random()*1e5))},e)})},c())):(h=n(d,t.urls[u.sso],o,"Einloggen"),n(d,t.urls[u.register],o,"Registrieren"),(location.pathname.match(/^\/login/)||location.pathname.match(/^\/userdb\/sso/)!==null)&&e(h).click(function(t){var n=e("#sso_login")[0]||e("#ssologin")[0];t.preventDefault(),n&&r(n)})),t.not_first_run||(t.not_first_run=1,p="/userdb/sso?rm=urls",e.ajax({url:p,data:{},success:function(e){e.urls&&(t.urls=e.urls),e.logged_in!==undefined&&(t.logged_in=e.logged_in),e.session_id!==undefined&&(t.session_id=e.session_id),e.user_id!==undefined&&(t.user_id=e.user_id),e.extra_js!==undefined&&(t.extra_js=e.extra_js),i()},xhrFields:{withCredentials:!0}}))}var t={logged_in:null,urls:function(){var e="";location.hostname.match(/(www\.heise\.de|www\.techstage\.de)/)&&(e="https://"+location.hostname);var t={sso:e+"/userdb/sso",logout:e+"/userdb/sso?rm=do_logout",register:e+"/userdb/register?rm=show_registration",profil:e+"/userdb/register?rm=show_userdata"};return t.ho_login=e+"/login",t.ho_register=e+"/register",t}(),session_id:null,user_id:null,extra_js:null};window.heiseLogin=t,t.updateLoginStatus=function(){window.heiseLogin.logged_in=document.cookie.indexOf("ssoheisede=")!==-1},t.login_fill_navigation=function(e){t.updateLoginStatus(),i(e)},window.heiseLogin.updateLoginStatus()}(jQuery);